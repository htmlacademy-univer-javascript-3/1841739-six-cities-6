import{r as i,j as s,L as h,c as j,g as u,M as m,a as g,u as N,b as f}from"./index-11f1fca8.js";import{H as b}from"./Header-aa96a534.js";import{g as y,O as v}from"./offers-0f34d1bc.js";var t=(e=>(e.Paris="Paris",e.Cologne="Cologne",e.Brussels="Brussels",e.Amsterdam="Amsterdam",e.Hamburg="Hamburg",e.Dusseldorf="Dusseldorf",e))(t||{});const _={[t.Paris]:{latitude:48.8566,longitude:2.3522,zoom:10},[t.Cologne]:{latitude:50.9375,longitude:6.9603,zoom:10},[t.Brussels]:{latitude:50.8503,longitude:4.3517,zoom:11},[t.Amsterdam]:{latitude:52.3676,longitude:4.9041,zoom:10},[t.Hamburg]:{latitude:53.5511,longitude:9.9937,zoom:10},[t.Dusseldorf]:{latitude:51.2277,longitude:6.7735,zoom:10}},p=i.memo(e=>{const{city:c}=e,n=Object.values(t);return s.jsx("div",{className:"tabs",children:s.jsx("section",{className:"locations container",children:s.jsx("ul",{className:"locations__list tabs__list",children:n.map(a=>s.jsx("li",{className:"locations__item",children:s.jsx(h,{className:j("locations__item-link","tabs__item",{"tabs__item--active":c===a}),to:`${u()}?city=${a}`,children:s.jsx("span",{children:a})})},a))})})})}),P=e=>e!==null&&typeof e=="object"&&"latitude"in e&&"longitude"in e,M=e=>e!==null&&Object.values(t).includes(e),A=i.memo(e=>{const{city:c,offers:n,selectedOffer:a}=e,r=i.useMemo(()=>(n==null?void 0:n.map(o=>({...o.location,marker:(a==null?void 0:a.id)===o.id?m.current:m.default})))??[],[n,a==null?void 0:a.id]),d=i.useMemo(()=>P(c)?c:M(c)?_[c]:_[t.Amsterdam],[c]);return s.jsx(g,{location:d,points:r})}),I=i.memo(()=>{const[e,c]=i.useState([]),[n]=N(),a=f(),[r,d]=i.useState(null),o=i.useCallback(x=>{d(x)},[]),l=i.useMemo(()=>n.get("city"),[n]);return i.useEffect(()=>{l||a(`${u()}?city=${t.Amsterdam}`)},[a,l]),i.useEffect(()=>{c(y())},[]),s.jsxs("div",{className:"page page--gray page--main",children:[s.jsx(b,{}),(e==null?void 0:e.length)===0?s.jsxs("main",{className:"page__main page__main--index page__main--index-empty",children:[s.jsx("h1",{className:"visually-hidden",children:"Cities"}),s.jsx(p,{city:l}),s.jsx("div",{className:"cities",children:s.jsxs("div",{className:"cities__places-container cities__places-container--empty container",children:[s.jsx("section",{className:"cities__no-places",children:s.jsxs("div",{className:"cities__status-wrapper tabs__content",children:[s.jsx("b",{className:"cities__status",children:"No places to stay available"}),s.jsx("p",{className:"cities__status-description",children:"We could not find any property available at the moment in Dusseldorf"})]})}),s.jsx("div",{className:"cities__right-section"})]})})]}):s.jsxs("main",{className:"page__main page__main--index",children:[s.jsx("h1",{className:"visually-hidden",children:"Cities"}),s.jsx(p,{city:l}),s.jsx("div",{className:"cities",children:s.jsxs("div",{className:"cities__places-container container",children:[s.jsxs("section",{className:"cities__places places",children:[s.jsx("h2",{className:"visually-hidden",children:"Places"}),s.jsx("b",{className:"places__found",children:"312 places to stay in Amsterdam"}),s.jsxs("form",{className:"places__sorting",action:"#",method:"get",children:[s.jsx("span",{className:"places__sorting-caption",children:"Sort by"}),s.jsxs("span",{className:"places__sorting-type",tabIndex:0,children:["Popular",s.jsx("svg",{className:"places__sorting-arrow",width:"7",height:"4",children:s.jsx("use",{xlinkHref:"#icon-arrow-select"})})]}),s.jsxs("ul",{className:"places__options places__options--custom places__options--opened",children:[s.jsx("li",{className:"places__option places__option--active",tabIndex:0,children:"Popular"}),s.jsx("li",{className:"places__option",tabIndex:0,children:"Price: low to high"}),s.jsx("li",{className:"places__option",tabIndex:0,children:"Price: high to low"}),s.jsx("li",{className:"places__option",tabIndex:0,children:"Top rated first"})]})]}),s.jsx("div",{className:"cities__places-list places__list tabs__content",children:s.jsx(v,{offers:e,onActiveOffer:o})})]}),s.jsx("div",{className:"cities__right-section",children:s.jsx(A,{city:l,offers:e,selectedOffer:r})})]})})]})]})});export{I as default};
