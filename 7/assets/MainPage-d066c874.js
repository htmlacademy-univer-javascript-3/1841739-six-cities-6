import{r as e,j as s,L as h,c as x,g as r,u as j,a as N}from"./index-a384292f.js";import{H as u}from"./Header-41d5a621.js";import{g,O as f}from"./offers-3de05a40.js";import{C as o,a as v}from"./CityMap-20f8b07e.js";const n=e.memo(a=>{const{city:l}=a,t=Object.values(o);return s.jsx("div",{className:"tabs",children:s.jsx("section",{className:"locations container",children:s.jsx("ul",{className:"locations__list tabs__list",children:t.map(i=>s.jsx("li",{className:"locations__item",children:s.jsx(h,{className:x("locations__item-link","tabs__item",{"tabs__item--active":l===i}),to:`${r()}?city=${i}`,children:s.jsx("span",{children:i})})},i))})})})}),P=e.memo(()=>{const[a,l]=e.useState([]),[t]=j(),i=N(),[d,m]=e.useState(null),_=e.useCallback(p=>{m(p)},[]),c=e.useMemo(()=>t.get("city"),[t]);return e.useEffect(()=>{c||i(`${r()}?city=${o.Amsterdam}`)},[i,c]),e.useEffect(()=>{l(g())},[]),s.jsxs("div",{className:"page page--gray page--main",children:[s.jsx(u,{}),(a==null?void 0:a.length)===0?s.jsxs("main",{className:"page__main page__main--index page__main--index-empty",children:[s.jsx("h1",{className:"visually-hidden",children:"Cities"}),s.jsx(n,{city:c}),s.jsx("div",{className:"cities",children:s.jsxs("div",{className:"cities__places-container cities__places-container--empty container",children:[s.jsx("section",{className:"cities__no-places",children:s.jsxs("div",{className:"cities__status-wrapper tabs__content",children:[s.jsx("b",{className:"cities__status",children:"No places to stay available"}),s.jsx("p",{className:"cities__status-description",children:"We could not find any property available at the moment in Dusseldorf"})]})}),s.jsx("div",{className:"cities__right-section"})]})})]}):s.jsxs("main",{className:"page__main page__main--index",children:[s.jsx("h1",{className:"visually-hidden",children:"Cities"}),s.jsx(n,{city:c}),s.jsx("div",{className:"cities",children:s.jsxs("div",{className:"cities__places-container container",children:[s.jsxs("section",{className:"cities__places places",children:[s.jsx("h2",{className:"visually-hidden",children:"Places"}),s.jsx("b",{className:"places__found",children:"312 places to stay in Amsterdam"}),s.jsxs("form",{className:"places__sorting",action:"#",method:"get",children:[s.jsx("span",{className:"places__sorting-caption",children:"Sort by"}),s.jsxs("span",{className:"places__sorting-type",tabIndex:0,children:["Popular",s.jsx("svg",{className:"places__sorting-arrow",width:"7",height:"4",children:s.jsx("use",{xlinkHref:"#icon-arrow-select"})})]}),s.jsxs("ul",{className:"places__options places__options--custom places__options--opened",children:[s.jsx("li",{className:"places__option places__option--active",tabIndex:0,children:"Popular"}),s.jsx("li",{className:"places__option",tabIndex:0,children:"Price: low to high"}),s.jsx("li",{className:"places__option",tabIndex:0,children:"Price: high to low"}),s.jsx("li",{className:"places__option",tabIndex:0,children:"Top rated first"})]})]}),s.jsx("div",{className:"cities__places-list places__list tabs__content",children:s.jsx(f,{offers:a,onActiveOffer:_})})]}),s.jsx("div",{className:"cities__right-section",children:s.jsx(v,{city:c,offers:a,selectedOffer:d})})]})})]})]})});export{P as default};
